# Role Mapping

## 기본 역할

| 역할 | 목적 | 코드 수정 |
|---|---|---|
| `default` | 리드/조율/최종 통합 | 필요 시 가능 |
| `explorer` | 코드베이스 탐색, 리스크 분석 | 금지 |
| `worker` | 구현, 리팩토링, 테스트 | 허용 |

## 태스크 분해 규칙

1. 태스크당 소유 파일은 1~5개로 제한.
2. 동일 파일을 2개 worker에 동시에 배정하지 않음.
3. 공통 파일이 필요하면 별도 single-owner 태스크 생성.
4. 의존성이 있으면 다음 Wave로 이동.

## Wave 설계 가이드

- Wave 1: 독립 태스크(병렬 최대화)
- Wave 2+: 이전 Wave 산출물 의존 태스크
- 권장 동시 worker 수: 2~5

## 실패 처리

1. 동일 실패 1회: 입력 프롬프트 보강 후 재시도
2. 동일 실패 2회: 태스크 범위를 축소해 재분배
3. 동일 실패 3회: 구조 이슈로 분류, 리드가 사용자에게 의사결정 요청
