---
name: reducing-entropy
description: 코드베이스 최소화 철학. 새 파일/기능 추가 전 검토 시 적용.
auto_apply: false
references:
  - skills/reducing-entropy/SKILL.md
---

# Reducing Entropy (Manual Guidelines)

더 많은 코드는 더 많은 코드를 낳습니다. 엔트로피는 누적됩니다.

## Core Question

> **"작업 후 코드베이스가 어떻게 보이는가?"**

## Three Questions (Before Any Change)

### 1. 이 문제를 해결하는 가장 작은 코드베이스는?
- 14개 함수 대신 2개로 가능한가?
- 0개 함수로 가능한가? (기능 삭제?)
- 이걸 하면 뭘 삭제할 수 있는가?

### 2. 제안된 변경이 총 코드를 줄이는가?
변경 전후 줄 수 비교. 후 > 전이면 거부.

- "더 잘 정리됨" + 더 많은 코드 = 더 많은 엔트로피
- "더 유연함" + 더 많은 코드 = 더 많은 엔트로피
- "관심사 분리" + 더 많은 코드 = 더 많은 엔트로피

### 3. 무엇을 삭제할 수 있는가?
모든 변경은 삭제 기회:

- 이것이 무엇을 구식으로 만드는가?
- 교체 대상 때문에만 필요했던 것은?
- 최대한 제거할 수 있는 것은?

## Red Flags

|경고|문제|
|---|---|
|"기존 것 유지"|현상 유지 편향. 총 코드가 중요.|
|"유연성 추가"|무엇을 위한 유연성? YAGNI.|
|"관심사 분리"|더 많은 파일 = 더 많은 코드|
|"타입 안전성"|몇 줄의 가치? 런타임 체크가 더 적을 수도.|
|"이해하기 쉬움"|14개가 2개보다 쉽지 않음.|

## When NOT to Apply

- 코드베이스가 이미 최소한
- 강한 컨벤션의 프레임워크 (싸우지 말 것)
- 규제/컴플라이언스 요구사항

## Measurement

```
성공 = 최종 코드 양, 노력이 아님

50줄 작성 + 200줄 삭제 = 순이익
14개 함수 유지 + 2개 작성 회피 = 순손실
```

**삭제 편향. 최종 상태 측정.**

## Tech Debt Detection Checklist

코드 리뷰 시 아래 항목을 탐지하여 보고:

### 🔴 즉시 제거

|항목|탐지 패턴|조치|
|---|---|---|
|디버그 코드 잔류|`console.log`, `debugger`, `print()`|삭제|
|주석 처리된 코드|`// old code`, `/* disabled */`|삭제 (git 이력에 있음)|
|TODO/FIXME/HACK|`TODO:`, `FIXME:`, `HACK:`, `XXX:`|해결하거나 이슈로 전환|

### 🟠 리팩토링 대상

|항목|탐지 기준|조치|
|---|---|---|
|미사용 import|import 후 참조 없음|삭제|
|미사용 변수|선언 후 사용 없음|삭제|
|`any` 타입 사용|TypeScript `any`|구체적 타입으로 교체|
|매직 넘버|코드 내 하드코딩된 숫자/문자열|상수로 추출|
|긴 함수|50줄 초과|헬퍼 추출|
|큰 파일|800줄 초과|모듈 분리|

### 탐지 명령 (Grep)

```bash
# 디버그 코드
console\.log|debugger|print\(

# TODO/FIXME
TODO:|FIXME:|HACK:|XXX:

# any 타입
:\s*any[\s;,\)\]]

# 주석 처리된 코드 (연속 2줄 이상)
^(\s*\/\/.*){2,}
```
